@model ChamedoonWebUI.Models.HomeIndexViewModel
@using System.Globalization
@using System.Linq
@using System.Text.RegularExpressions
@{
    ViewData["Title"] = "ุตูุญู ูุฑูุฏ";
}

<section class="container py-5">
    <div class="hero-section">
        <div class="row align-items-center g-5">
            <div class="col-lg-6 text-center text-lg-end">
                <span class="hero-badge"><span class="dot"></span> ุจุฏูู ฺูุฏููุ ฺฉุฌุง ูโุฎูุง ุจุฑุ</span>
                <h1 class="display-5 fw-bold mt-4">ูพุดููุงุฏ ุจูุชุฑู ุฑุงู ููุงุฌุฑุช ู ุจูุชุฑู ฺฉุดูุฑ ุจุฑ ุงุณุงุณ ุดุฎุตุช ู ุดุฑุงุท ุชู.</h1>
                <p class="text-muted mt-3">ุจุง ฺูุฏูู ูุฑ ุจุฎุด ุงุฒ ุณูุฑ ููุงุฌุฑุชุช ุจู ุตูุฑุช ฺฏุงูโุจูโฺฏุงู ูพุด ูโุฑูุฏุ ุงุฒ ุดูุงุฎุช ูุณุฑ ุชุง ุขูุงุฏูโุณุงุฒ ูุฏุงุฑฺฉ ู ุชุฌุฑุจู ุฒูุฏฺฏ ุฏุฑ ููุตุฏ ุฌุฏุฏ.</p>
                <div class="d-flex flex-wrap justify-content-center justify-content-lg-end gap-3 mt-4">
                    <a asp-controller="Immigration" asp-action="Index" class="btn btn-primary btn-lg px-4">ุดุฑูุน ุชุณุช</a>
                    <a asp-controller="Blog" asp-action="Index" class="btn btn-outline-secondary btn-lg px-4">ูุดุงูุฏู ููููู ุฎุฑูุฌ</a>
                </div>
                <div class="d-flex flex-column flex-sm-row align-items-center gap-3 mt-4 text-muted small justify-content-center justify-content-lg-end">
                    <div class="d-flex align-items-center gap-2">
                        <strong class="text-dark fs-5">ฑฒูุฒุงุฑ+</strong>
                        ุชุทุจู ูููู ููุตุฏ
                    </div>
                    <span class="vr d-none d-sm-inline"></span>
                    <span>ููุฑุงู ูฺู ุจุฑุง ุฏุงูุดุฌููุงุ ูุฑููุง ูุชุฎุตุต ู ุฎุงููุงุฏูโูุง.</span>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <img src="~/img/hero-illustration.svg" class="hero-illustration" alt="ุณูุฑ ููุงุฌุฑุช" />
            </div>
        </div>
    </div>
</section>

<section id="features" class="py-5">
    <div class="container">
        <div class="row justify-content-center text-center mb-5">
            <div class="col-lg-7">
                <span class="text-uppercase text-primary fw-semibold">ฺุฑุง ฺูุฏููุ</span>
                <h2 class="fw-bold mt-2">ููู ุงุจุฒุงุฑูุง ฺฉู ุจุฑุง ุญุฑฺฉุช ูุงุฒ ุฏุงุฑุ ุฏุฑ ูุงูุจ ุจุฎุดโูุง ููุธู.</h2>
                <p class="text-muted">ุงุฒ ุงูุชุฎุงุจ ฺฉุดูุฑ ุชุง ุดูุงุฎุช ุชุฌุฑุจู ฺฉุงุฑุจุฑุงูุ ูููโฺุฒ ุฏุฑ ุฏุณุชุฑุณ ุชูุณุช ุชุง ุจุง ุงุทููุงู ุชุตูู ุจฺฏุฑ.</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="feature-card">
                    <div class="feature-icon">๐ฐ</div>
                    <h5 class="fw-semibold">ูุจูุงฺฏ ฺูุฏูู</h5>
                    <p class="text-muted">ูุทุงูุจ ูุชููุน ุฏุฑุจุงุฑู ฺฉุดูุฑูุงุ ุงููุงุน ูุฒุง ู ุชุฌุฑุจูโูุง ูุงูุน ููุงุฌุฑูุง.</p>
                    <a asp-controller="Blog" asp-action="Index" class="stretched-link text-primary">ูุทุงูุนู ุจุดุชุฑ</a>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="feature-card">
                    <div class="feature-icon">๐บ๏ธ</div>
                    <h5 class="fw-semibold">ฺฉุฌุง ููุงุฌุฑุช ฺฉููุ</h5>
                    <p class="text-muted">ุจุฑ ุงุณุงุณ ุดุฎุตุช ู ูููุนุชุช ุจูุชุฑู ููุตุฏูุง ุจู ุชู ูพุดููุงุฏ ุฏุงุฏู ูโุดูุฏ.</p>
                    <a asp-controller="Immigration" asp-action="Index" class="stretched-link text-primary">ุดุฑูุน ููุงุณู</a>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="feature-card">
                    <div class="feature-icon">๐ฏ</div>
                    <h5 class="fw-semibold">ุดุงูุณ ููููุช</h5>
                    <p class="text-muted">ุงุญุชูุงู ููููุชุช ุจุฑุง ููุตุฏูุง ูุฎุชูู ูุญุงุณุจู ู ุณุงุฏู ุชูุถุญ ุฏุงุฏู ูโุดูุฏ.</p>
                    <a asp-controller="Immigration" asp-action="Index" class="stretched-link text-primary">ุจุฑุฑุณ ุดุงูุณ</a>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="feature-card">
                    <div class="feature-icon">๐ฅ</div>
                    <div class="d-flex align-items-center gap-2">
                        <h5 class="fw-semibold mb-0">ุชุฌุฑุจู ฺฉุงุฑุจุฑุงู</h5>
                        <span class="badge bg-light text-primary border">ุจู ุฒูุฏ</span>
                    </div>
                    <p class="text-muted">ุงุฒ ุชุฌุฑุจู ุฏฺฏุฑ ุงุนุถุง ฺูุฏูู ุฏุฑ ุงูุฌูู ุงุณุชูุงุฏู ฺฉู ู ุณูุงู ุจูพุฑุณ.</p>
                    <a href="javascript:void(0)" class="stretched-link text-primary">ูุฑูุฏ ุจู ุงูุฌูู</a>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="process" class="py-5 bg-white">
    <div class="container">
        <div class="row align-items-center g-5">
            <div class="col-lg-5 text-center text-lg-end">
                <h2 class="fw-bold">ฺฉ ูุณุฑ ุดูุงูุ ุจุฎุดโุจูุฏ ุดุฏู ู ูุงุจู ูพฺฏุฑ.</h2>
                <p class="text-muted">ูุฑ ุจุฎุด ุงุฒ ุณูุฑ ููุงุฌุฑุช ุงุฒ ฺฉุดู ุชุง ุงุณุชูุฑุงุฑ ุจุง ฺฺฉโูุณุชโูุง ู ุงุฏุขูุฑูุง ูพุด ุฑู ุชู ูุฑุงุฑ ูโฺฏุฑุฏ.</p>
            </div>
            <div class="col-lg-7">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="process-step h-100" data-step="ฑ">
                            <h5 class="fw-semibold">ฺฉุดู</h5>
                            <p class="text-muted">ุจุง ุชุณุช ุชุนุงููุ ูพุฑููุงู ุฎูุฏุช ุฑู ุจุดูุงุณ ู ูพุดููุงุฏูุง ูุชูุงุณุจ ุฏุฑุงูุช ฺฉู.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="process-step h-100" data-step="ฒ">
                            <h5 class="fw-semibold">ุขูุงุฏูโุณุงุฒ</h5>
                            <p class="text-muted">ฺฺฉโูุณุช ูุฏุงุฑฺฉ ู ุงูุฏุงูุงุช ูุงุฒู ุฑู ุจุฑ ุงุณุงุณ ููุตุฏ ุฏูุฎูุงูุช ุฏูุจุงู ฺฉู.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="process-step h-100" data-step="ณ">
                            <h5 class="fw-semibold">ุงูุฏุงู</h5>
                            <p class="text-muted">ุฌุฏูู ุฒูุงูโุจูุฏุ ูุฒููโูุง ู ูุฏุงุฑฺฉ ุฑู ูุจู ุงุฒ ุงุฑุณุงู ุฏุฑุฎูุงุณุช ูุฑูุฑ ฺฉู.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="process-step h-100" data-step="ด">
                            <h5 class="fw-semibold">ุงุณุชูุฑุงุฑ</h5>
                            <p class="text-muted">ูฺฉุงุช ุทูุง ุจุฑุง ุดุฑูุน ุฒูุฏฺฏุ ฺฉุงุฑ ู ุชุญุตู ุฏุฑ ููุตุฏ ุฌุฏุฏุช ุฑู ุฏุฑุงูุช ฺฉู.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="insights" class="py-5">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-3 mb-4">
            <div class="text-end">
                <span class="text-uppercase text-primary fw-semibold">ูพุฑ ุจุงุฒุฏุฏุชุฑู ูุจูุงฺฏโูุง</span>
            </div>
            <a asp-controller="Blog" asp-action="Index" class="popular-article-more-link">
                <span>ุจุดุชุฑ</span>
            </a>
        </div>
        @{ var fallbackBlogImage = Url.Content("~/img/blog-placeholder.svg"); }
        <div class="row g-4 popular-articles-grid">
            @if (Model.PopularArticles.Any())
            {
                var cardIndex = 0;
                foreach (var article in Model.PopularArticles.Take(4))
                {
                    var visitCountText = article.VisitCount.ToString("N0", CultureInfo.CreateSpecificCulture("fa-IR"));
                    cardIndex++;
                    var stepDelay = (cardIndex * 0.12).ToString("0.##", CultureInfo.InvariantCulture);
                    var shortDescriptionText = Regex.Replace(article.ShortDescription ?? string.Empty, "<.*?>", string.Empty);
                    var imageSrc = string.IsNullOrWhiteSpace(article.ArticleImageName)
                        ? fallbackBlogImage
                        : (article.ArticleImageName!.StartsWith("data:image", System.StringComparison.OrdinalIgnoreCase)
                            || article.ArticleImageName.StartsWith("http", System.StringComparison.OrdinalIgnoreCase))
                            ? article.ArticleImageName
                            : Url.Content($"~/images/blog/{article.ArticleImageName}");
                    <div class="col-md-6 col-xl-3">
                        <article class="popular-article-card h-100" style="--card-delay:@stepDelay">
                            <div class="popular-article-image">
                                <img src="@imageSrc" alt="@article.ArticleTitle" loading="lazy" />
                            </div>
                            <div class="popular-article-body">
                                <h5 class="fw-semibold">@article.ArticleTitle</h5>
                                <p class="text-muted popular-article-description">@shortDescriptionText</p>
                            </div>
                            <div class="popular-article-meta">
                                <span class="popular-article-author" aria-label="@article.Writer">โ๏ธ @article.Writer</span>
                                <span class="popular-article-visit" aria-label="@visitCountText ุจุงุฒุฏุฏ">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" aria-hidden="true">
                                        <path d="M2 12s3.5-6 10-6 10 6 10 6-3.5 6-10 6S2 12 2 12Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></circle>
                                    </svg>
                                    <span>@visitCountText</span>
                                </span>
                            </div>
                            <a asp-controller="Blog" asp-action="Detail" asp-route-id="@article.Id" class="stretched-link" aria-label="ูุดุงูุฏู ูุทูุจ @article.ArticleTitle"></a>
                        </article>
                    </div>
                }
            }
            else
            {
                <div class="col-12">
                    <div class="popular-article-empty">
                        <h5 class="fw-semibold mb-2">ูุนูุงู ุขูุงุฑ ุซุจุช ูุดุฏู ุงุณุช</h5>
                        <p class="mb-0 text-muted">ุจู ุฒูุฏ ูุญุจูุจโุชุฑู ููุงูุงุช ุจุฑุงุณุงุณ ุจุงุฒุฏุฏ ฺฉุงุฑุจุฑุงู ููุงุด ุฏุงุฏู ูโุดูุฏ.</p>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<section id="testimonials" class="py-5 bg-white">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col">
                <span class="text-uppercase text-primary fw-semibold">ูุธุฑุงุช ฺฉุงุฑุจุฑุงู</span>
                <h2 class="fw-bold mt-2">ฺฉุงุฑุจุฑูุง ฺูุฏูู ฺู ูโฺฏููุฏุ</h2>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <p>ยซููุดู ุฑุงู ุจุฎุดโุจูุฏ ุดุฏู ุจุงุนุซ ุดุฏ ูพุฑููุฏู ูุฒุง ุฏุงูุดุฌูโุงู ุฏูู ู ุจูโูููุน ูพุด ุจุฑู. ูุฑ ูุฑุญูู ฺฉู ุชููู ูโุดุฏุ ุจู ูุฏูู ูุฒุฏฺฉโุชุฑ ูโุดุฏู.ยป</p>
                    <h6 class="fw-semibold mb-0">ุณุงุฑุง ฺฉ.</h6>
                    <small class="text-muted">ููุงุฌุฑุช ุชุญุตู ุจู ูููุฏ</small>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <p>ยซูพุดููุงุฏูุง ูุจูุงฺฏ ููุดู ุชุงุฒู ู ุฏูู ุจูุฏ. ุชููุณุชู ุณู ููุตุฏ ฺฉุงุฑ ูุฎุชูู ุฑู ุจุง ูู ููุงุณู ฺฉูู ู ุจูุชุฑูุด ุฑู ุงูุชุฎุงุจ ฺฉูู.ยป</p>
                    <h6 class="fw-semibold mb-0">ูุฑูุงุฏ ู.</h6>
                    <small class="text-muted">ูุฑู ูุชุฎุตุต ุฏุฑ ุจุฑูู</small>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="testimonial-card">
                    <p>ยซุงุฒ ุขูุงุฏูโุณุงุฒ ูุฏุงุฑฺฉ ุชุง ูุงู ุงูู ุจุนุฏ ุงุฒ ูุฑูุฏุ ุงูพูฺฉุดู ูุฑ ุฌุง ูุงุฒู ุจูุฏ ฺฉูุงุฑููู ุจูุฏ ู ุชุฌุฑุจู ุฎุงููุงุฏูโูุง ุฏฺฏู ุฑู ุฏุฑ ุงุฎุชุงุฑููู ฺฏุฐุงุดุช.ยป</p>
                    <h6 class="fw-semibold mb-0">ููููุฑ ุข.</h6>
                    <small class="text-muted">ุฌุงุจุฌุง ุฎุงููุงุฏฺฏ ุจู ฺฉูฺฏุฑ</small>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="cta-section text-center text-lg-end">
            <div class="row align-items-center g-4">
                <div class="col-lg-8">
                    <h3 class="fw-bold mb-3">ุขูุงุฏูโุง ูุตู ุฌุฏุฏ ุฒูุฏฺฏุช ุฑู ุดุฑูุน ฺฉูุ</h3>
                    <p class="mb-0">ูุฒุงุฑุงู ููุฑ ุจุง ฺูุฏูู ูุณุฑ ููุงุฌุฑุชโุดูู ุฑู ูุฏุฑุช ูโฺฉูู. ุงููู ุจุฎุด ุดุฎุตโุณุงุฒ ุดุฏู ููู ุญุงูุง ููุชุธุฑ ุชูุณุช.</p>
                </div>
                <div class="col-lg-4 text-lg-end">
                    <a asp-controller="Account" asp-action="Register" class="btn btn-light btn-lg px-4">ุณุงุฎุช ุญุณุงุจ ฺฉุงุฑุจุฑ</a>
                </div>
            </div>
        </div>
    </div>
</section>
